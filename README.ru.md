# ü§ñ Motion Telegram Bot

Telegram –±–æ—Ç –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è —Å –∫–∞–º–µ—Ä—ã –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

## üß∞ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –∫–∞–¥—Ä—ã —Å –∫–∞–º–µ—Ä—ã —á–µ—Ä–µ–∑ FFmpeg
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç OpenCV –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
- ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram:
  - üì∏ –§–æ—Ç–æ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è
  - üé• 10-—Å–µ–∫—É–Ω–¥–Ω–æ–µ –≤–∏–¥–µ–æ –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/photo` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∫–∞–¥—Ä–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/record` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js v18.x –∏–ª–∏ –≤—ã—à–µ
- FFmpeg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ (`ffmpeg -version`)
- –ö–∞–º–µ—Ä–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π RTSP
- Telegram Bot API —Ç–æ–∫–µ–Ω (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/SidorovVladimir/motion-telegram-bot.git
cd motion-telegram-bot
npm install
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

```env
BOT_TOKEN=–≤–∞—à —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
USER_ID=–≤–∞—à id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º–º
RTSP_URL=rtsp://–ª–æ–≥–∏–Ω:–ø–∞—Ä–æ–ª—å@ip:port/stream=0
```

- USER_ID –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —É [@userinfobot](https://t.me/userinfobot) - –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –µ–º—É `/start` –∏–ª–∏ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –æ–Ω –ø—Ä–∏—à–ª–µ—Ç —Ç–µ–±–µ —Ç–≤–æ–π ID.

## üöÄ –ó–∞–ø—É—Å–∫

**–õ–æ–∫–∞–ª—å–Ω–æ:**

```bash
node src/index.js
```

## üì± –ö–æ–º–∞–Ω–¥—ã Telegram

| –ö–æ–º–∞–Ω–¥–∞   | –û–ø–∏—Å–∞–Ω–∏–µ                               |
| --------- | -------------------------------------- |
| `/start`  | –í–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–∂–µ–Ω–∏–µ                      |
| `/stop`   | –û—Ç–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–∂–µ–Ω–∏–µ                     |
| `/photo`  | –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä —Å –∫–∞–º–µ—Ä—ã       |
| `/record` | –ó–∞–ø–∏—Å–∞—Ç—å –∏ –ø—Ä–∏—Å–ª–∞—Ç—å 10-—Å–µ–∫—É–Ω–¥–Ω–æ–µ –≤–∏–¥–µ–æ |
| `/status` | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã              |

## üß† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. –ë–æ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç —Å–Ω–∏–º–∫–∏ —Å –∫–∞–º–µ—Ä—ã —á–µ—Ä–µ–∑ FFmpeg
2. –° –ø–æ–º–æ—â—å—é WebAssembly-–≤–µ—Ä—Å–∏–∏ OpenCV –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
3. –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ –∏ –≤–∏–¥–µ–æ –≤ Telegram
